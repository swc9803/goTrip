<template>
  <div>
    <svg ref="scroll" class="scroll" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 1440 225">
      <g @mouseover="flatten" @mouseout="unfurl">
        <path class="circle" fill="#A5B3FF" d="M0 225S287 19 725 19s715 206 715 206H0Z"/>
        <g class="arrow" ref="arrow">
          <g filter="url(#scroll0_d_41_4)">
            <circle cx="720.5" cy="23.5" r="23.5" fill="#A5B3FF"/>
          </g>
          <path fill="#fff" d="M718.94 35.06a1.5 1.5 0 0 0 2.12 0l9.55-9.55a1.5 1.5 0 0 0-2.13-2.12L720 31.88l-8.49-8.49a1.5 1.5 0 0 0-2.12 2.12l9.55 9.55ZM718.5 13v21h3V13h-3Z"/>
        </g>
        <g filter="url(#scroll1_d_41_4)">
          <path fill="#fff" d="M610.07 141.02c0-.83-.13-1.57-.39-2.2a4.18 4.18 0 0 0-1.32-1.76 10.33 10.33 0 0 0-2.59-1.49 36.05 36.05 0 0 0-4.15-1.44 38.15 38.15 0 0 1-4.76-1.73 16.63 16.63 0 0 1-3.63-2.22 8.75 8.75 0 0 1-2.32-2.86 8.13 8.13 0 0 1-.8-3.69 8.64 8.64 0 0 1 3.29-6.88 11.86 11.86 0 0 1 3.83-2.05c1.48-.5 3.13-.73 4.96-.73 2.66 0 4.93.5 6.78 1.53 1.87 1.01 3.3 2.34 4.27 3.98a9.98 9.98 0 0 1 1.47 5.23h-4.69c0-1.34-.28-2.52-.85-3.54a5.88 5.88 0 0 0-2.59-2.44 9.45 9.45 0 0 0-4.4-.9c-1.67 0-3.05.25-4.14.75a5.49 5.49 0 0 0-2.45 2.05 5.6 5.6 0 0 0-.78 2.95c0 .75.16 1.44.47 2.06.32.6.82 1.16 1.49 1.68.68.52 1.54 1 2.58 1.44 1.06.44 2.32.86 3.79 1.27a33 33 0 0 1 5.22 1.9 14.3 14.3 0 0 1 3.62 2.37 8.1 8.1 0 0 1 2.12 2.96c.47 1.09.7 2.32.7 3.7 0 1.45-.28 2.77-.87 3.94a8.54 8.54 0 0 1-2.52 3c-1.09.83-2.4 1.47-3.93 1.93-1.51.44-3.2.66-5.08.66-1.64 0-3.26-.23-4.85-.69a14.5 14.5 0 0 1-4.32-2.05 10.75 10.75 0 0 1-3.1-3.37 9.35 9.35 0 0 1-1.15-4.68h4.68c0 1.22.24 2.27.71 3.15a6.26 6.26 0 0 0 1.93 2.15 9 9 0 0 0 2.8 1.26c1.07.27 2.17.4 3.3.4 1.65 0 3.04-.23 4.18-.69 1.14-.45 2-1.1 2.59-1.95.6-.85.9-1.85.9-3Zm20.63 5.76c1.07 0 2.07-.22 2.98-.66a6.14 6.14 0 0 0 2.25-1.8c.58-.79.92-1.68 1-2.67h4.3a8.07 8.07 0 0 1-1.6 4.37 10.85 10.85 0 0 1-8.93 4.47c-1.99 0-3.72-.35-5.2-1.05a10.3 10.3 0 0 1-3.66-2.88 12.88 12.88 0 0 1-2.17-4.2c-.48-1.6-.71-3.28-.71-5.06v-1.02c0-1.78.23-3.45.7-5.03.5-1.6 1.22-3 2.18-4.22a10.3 10.3 0 0 1 3.66-2.88c1.48-.7 3.22-1.05 5.2-1.05 2.07 0 3.88.42 5.42 1.27a9.33 9.33 0 0 1 3.64 3.41 9.89 9.89 0 0 1 1.46 4.89h-4.3a6.52 6.52 0 0 0-.92-2.96 6 6 0 0 0-5.3-2.9 6.8 6.8 0 0 0-3.49.83 6.12 6.12 0 0 0-2.22 2.2c-.54.9-.93 1.92-1.17 3.05-.23 1.1-.35 2.23-.35 3.39v1.03c0 1.15.12 2.29.35 3.41a9.8 9.8 0 0 0 1.14 3.05c.56.92 1.3 1.65 2.23 2.2.94.54 2.11.8 3.51.8Zm20.12-19.05V150h-4.52v-26.42h4.4l.12 4.15Zm8.25-4.3-.02 4.2a11.6 11.6 0 0 0-2.2-.2c-1.04.01-1.96.17-2.76.5-.8.32-1.47.78-2.03 1.37a6.6 6.6 0 0 0-1.31 2.1c-.31.8-.52 1.67-.62 2.63l-1.26.74c0-1.6.15-3.1.46-4.5.32-1.4.82-2.63 1.49-3.7a7.31 7.31 0 0 1 2.54-2.55 7.14 7.14 0 0 1 5.71-.58Zm2.5 13.66v-.57c0-1.9.27-3.67.82-5.3a12.6 12.6 0 0 1 2.4-4.27 10.67 10.67 0 0 1 3.78-2.83 11.76 11.76 0 0 1 4.98-1.02c1.85 0 3.52.34 5 1.02a10.6 10.6 0 0 1 3.81 2.83 12.37 12.37 0 0 1 2.42 4.28c.55 1.62.83 3.39.83 5.3v.56c0 1.9-.28 3.66-.83 5.3a12.67 12.67 0 0 1-2.42 4.27 11.05 11.05 0 0 1-8.76 3.83c-1.86 0-3.53-.34-5-1a11.31 11.31 0 0 1-3.82-2.84 12.9 12.9 0 0 1-2.39-4.27c-.55-1.63-.83-3.4-.83-5.3Zm4.5-.57v.56c0 1.32.16 2.57.47 3.74.31 1.16.77 2.18 1.4 3.08.63.9 1.42 1.6 2.36 2.12.95.5 2.04.76 3.3.76a6.7 6.7 0 0 0 3.24-.76 6.82 6.82 0 0 0 2.35-2.12 9.83 9.83 0 0 0 1.39-3.08c.32-1.17.49-2.42.49-3.73v-.57c0-1.3-.17-2.53-.5-3.68a9.5 9.5 0 0 0-1.4-3.1 6.57 6.57 0 0 0-5.62-2.93c-1.24 0-2.33.26-3.27.78a7.03 7.03 0 0 0-2.35 2.15 9.8 9.8 0 0 0-1.39 3.1c-.3 1.15-.46 2.38-.46 3.68Zm30.11-24.02V150h-4.54v-37.5h4.54Zm12.16 0V150h-4.54v-37.5h4.54Zm29.95 37.5h-7.42l.05-3.83h7.37c2.54 0 4.66-.53 6.35-1.59a9.92 9.92 0 0 0 3.81-4.5c.86-1.93 1.3-4.2 1.3-6.78v-2.17c0-2.04-.25-3.84-.74-5.42-.49-1.6-1.2-2.94-2.15-4.03a9.07 9.07 0 0 0-3.46-2.52 11.9 11.9 0 0 0-4.67-.85h-8v-3.86h8c2.33 0 4.45.4 6.38 1.17a13.7 13.7 0 0 1 4.95 3.35c1.4 1.45 2.48 3.2 3.22 5.27a20.11 20.11 0 0 1 1.13 6.94v2.12c0 2.57-.38 4.9-1.13 6.96a14.2 14.2 0 0 1-8.33 8.6c-1.96.76-4.18 1.14-6.66 1.14Zm-4.9-35.55V150h-4.72v-35.55h4.72Zm26.22 22.64v-.57c0-1.9.27-3.67.83-5.3a12.58 12.58 0 0 1 2.39-4.27 10.67 10.67 0 0 1 3.78-2.83 11.76 11.76 0 0 1 4.99-1.02c1.85 0 3.52.34 5 1.02a10.6 10.6 0 0 1 3.8 2.83 12.37 12.37 0 0 1 2.43 4.28c.55 1.62.82 3.39.82 5.3v.56c0 1.9-.27 3.66-.82 5.3a12.67 12.67 0 0 1-2.42 4.27 11.05 11.05 0 0 1-8.77 3.83c-1.85 0-3.52-.34-5-1a11.31 11.31 0 0 1-3.81-2.84 12.89 12.89 0 0 1-2.4-4.27c-.55-1.63-.82-3.4-.82-5.3Zm4.51-.57v.56c0 1.32.16 2.57.47 3.74.3 1.16.77 2.18 1.39 3.08.63.9 1.42 1.6 2.37 2.12.94.5 2.04.76 3.3.76a6.7 6.7 0 0 0 3.24-.76 6.8 6.8 0 0 0 2.34-2.12 9.81 9.81 0 0 0 1.4-3.08c.32-1.17.48-2.42.48-3.73v-.57c0-1.3-.16-2.53-.48-3.68a9.5 9.5 0 0 0-1.42-3.1 6.57 6.57 0 0 0-5.62-2.93c-1.23 0-2.32.26-3.27.78a7.04 7.04 0 0 0-2.34 2.15 9.82 9.82 0 0 0-1.4 3.1c-.3 1.15-.46 2.38-.46 3.68Zm31.89 8.8 6.79-21.74h2.97l-.58 4.33-6.91 22.09h-2.9l.63-4.69Zm-4.57-21.74 5.79 21.98.41 4.44h-3.05l-7.66-26.42h4.51Zm20.83 21.8 5.52-21.8h4.49L814.6 150h-3.02l.68-4.61Zm-5.84-21.8 6.64 21.37.76 5.05h-2.88l-7.1-22.14-.59-4.28h3.17Zm25 5.64V150h-4.51v-26.42h4.27l.24 5.64Zm-1.07 6.57-1.88-.07c.02-1.8.28-3.48.8-5a12.5 12.5 0 0 1 2.2-4.03 9.77 9.77 0 0 1 7.74-3.6c1.3 0 2.48.19 3.52.54 1.04.34 1.93.9 2.66 1.66a7.4 7.4 0 0 1 1.7 2.98c.4 1.2.6 2.68.6 4.42V150h-4.55v-17.36c0-1.38-.2-2.49-.6-3.32-.41-.84-1-1.45-1.79-1.83a6.4 6.4 0 0 0-2.88-.59 6.68 6.68 0 0 0-5.45 2.66 9.86 9.86 0 0 0-2.07 6.23Z"/>
        </g>
      </g>
      <defs>
        <filter id="scroll0_d_41_4" width="55" height="55" x="693" y="0" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
          <feFlood flood-opacity="0" result="BackgroundImageFix"/>
          <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
          <feOffset dy="4"/>
          <feGaussianBlur stdDeviation="2"/>
          <feComposite in2="hardAlpha" operator="out"/>
          <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
          <feBlend in2="BackgroundImageFix" result="effect1_dropShadow_41_4"/>
          <feBlend in="SourceGraphic" in2="effect1_dropShadow_41_4" result="shape"/>
        </filter>
        <filter id="scroll1_d_41_4" width="259.72" height="41.99" x="588.98" y="112.5" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
          <feFlood flood-opacity="0" result="BackgroundImageFix"/>
          <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
          <feOffset dx="1" dy="4"/>
          <feComposite in2="hardAlpha" operator="out"/>
          <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/>
          <feBlend in2="BackgroundImageFix" result="effect1_dropShadow_41_4"/>
          <feBlend in="SourceGraphic" in2="effect1_dropShadow_41_4" result="shape"/>
        </filter>
      </defs>
    </svg>
  </div>
</template>

<script>
import gsap from 'gsap'
import { onMounted, ref } from 'vue'
export default {
  setup () {
    const scroll = ref()
    const arrow = ref()
    const flatAni = gsap.timeline({ paused: true })

    onMounted(() => {
      gsap.set(scroll.value, {
        scaleY: 0
      })
      setTimeout(() => {
        gsap.to(scroll.value, {
          scaleY: 1,
          ease: 'bounce',
          transformOrigin: 'bottom',
          duration: 1
        })
      }, 1500)
      gsap.to(arrow.value, {
        yPercent: 20,
        ease: 'none',
        repeat: -1,
        yoyo: true,
        duration: 1
      })
      flatAni.to(scroll.value, {
        scaleY: 0.5,
        transformOrigin: 'bottom',
        ease: 'power2',
        duration: 0.5
      })
    })
    const flatten = () => {
      flatAni.play()
    }
    const unfurl = () => {
      flatAni.reverse()
    }
    return {
      scroll,
      arrow,
      flatten,
      unfurl
    }
  }
}
</script>

<style lang="scss" scoped>
@import '@/style/MainStyle';
div {
  .scroll {
    position: absolute;
    bottom: 0;
    width: 100%;
  }
}
</style>
